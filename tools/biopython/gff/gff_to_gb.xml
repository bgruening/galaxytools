<tool id="gff_to_gb" name="GFF to GenBank converter" version="@VERSION@">
    
    <description>
    <![CDATA[
        Convert a GFF and corresponding fasta file into GenBank format.
    ]]>
    </description>
    
    <macros>
        <import>gff_sqlite_tool_macros.xml</import>
    </macros>
    <expand macro="requirements" />
    <expand macro="stdio" />
    
    <version_command>python gff_to_gb.py --version</version_command>
    
    <command interpreter="python">
    <![CDATA[
        
      gff_to_gb.py 
        #if $gff_in and $gff_in is not None:
            --gff "$gff_in"
        #end if
        
        #if $fasta_in and $fasta_in is not None:
            --fasta "$fasta_in"
        #end if
        
        #if $genBank_out and $genBank_out is not None:
            --genbank "$genBank_out"
        #end if
        
    ]]>
    </command>
    
    <inputs>
        <param name="gff_in" type="data" format="gff" label="Input GFF file" help="(--gffFile)" />
        <param name="fasta_in" type="data" format="fasta" label="Input fasta file" help="(--fastaFile) Should be associated with the GFF file." />
    </inputs>
    
    <outputs>
        <data name="genBank_out" format="genbank" label="GenBank data of ${tool.name} on ${on_string}" />
    </outputs>
    
    <tests>
        <test>
            <param name="gff_in" value="FlyBase.gff" />
            <param name="fasta_in" value="FlyBase.fna" />
            <output name="genBank_out" file="FlyBase.gbk" />
        </test>
    </tests>
    
    <help>
<![CDATA[

**Overview**

Gff_to_gb can transform a GFF file and its corresponding fasta file into a new GenBank file.
It uses 3 separate editing and validation functions in order to validate the input files and manipulates the data if necessary.
This is due to GenBank not handling nested features and GenBank features only allowed to be 16 characters long.
It also checks if the GFF files have corresponding sequences.

------

**Input**

The first input file has to be a GFF file.
The second input file has to be a fasta file with sequences associated to the GFF file.

------

**Output**

The output will be a GenBank file.

------

**gff_to_gb parameter list**

The standalone, command-line version of gff_to_gb uses the following parameters::

        --gff       [input GFF file name {gff}]
        --fasta     [input fasta file name {fna/ffn/faa}]
        --genbank   [output GenBank file name {gbk}]

@CITATION@

]]>
    </help>
    
    <expand macro="citations"/>
    
</tool>

