<tool id="hicup_truncater" name="HiCUP Truncater" version="0.1.0">
    <requirements>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command><![CDATA[
        TODO: Fill in command template.
    ]]></command>
    <inputs>
        <param argument="--config" type="data" format="txt" label="Configuration file:" help="Specify the configuration file"/>
        <param argument="--index" type="text" value="" label="Reference genome index" help="Relevant reference genome Bowtie/Bowtie2 indices"/>
        <param argument="--nofill" type="boolean" value="false" label="No fill" help="Hi-C protocol did NOT include a fill-in of sticky ends prior to re-ligation and therefore reads shall be truncated at the restriction site sequence"/>
        <param argument="--quiet" type="boolean" value="false" label="" help=""/>
        <param argument="--re1" type="text" value="" label="Restriction enzyme recognition sequence" help="Restriction enzyme recognition sequence"/>
        <param argument="--sequences" type="text" value="" label="Ligation sequence" help="Instead of specifying a restriction enzyme recognition sequence, specify the ligation sequences directly"/>
        <param argument="--threads" type="integer" value="1" label="Threads" help="Specify the number of threads, allowing simultaneous processing of multiple files"/>
        <param argument="--zip" type="boolean" value="false" label="Compress output" help="Compress the output with zip"/>
    </inputs>
    <outputs>
    </outputs>
    <help><![CDATA[
        
Valid Hi-C pairs comprise two DNA fragments from different regions of the genome ligated together. Typically, a forward read maps to one ligation fragment; the reverse read maps to the other. However, this is not always true since the Hi-C ligation junction may be found within the sequenced region. Such reads will most likely be removed from the Hi-C pipeline during the mapping process, thereby losing potentially valid data. The hicup_truncater script helps remedy this by identifying ligation junctions within reads and deleting sequence downstream of the restriction enzyme recognition site.

TODO: Truncation Explanation Diagram

The names of the files to be processed and the restriction site may be passed to the scrip using a configuration file or command line arguments. The configuration file contains: i) the recognition sequence of the first (or only) restriction enzyme used in the Hi-C protocol and ii) the sequence files to be processed by the HiCUP Truncater.
    ]]></help>
</tool>
