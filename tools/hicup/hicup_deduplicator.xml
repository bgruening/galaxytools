<tool id="hicup_deduplicator" name="HiCUP Deduplicator" version="0.1.0">
    <requirements>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command><![CDATA[
        hicup_deduplicator 
        #for $file in $input_files:
            $file
        #end for
        --threads $advanced_options.threads
        $zip $quiet
    ]]></command>
    <inputs>
        <param name="input_files" type="data" format="bam,sam" multiple="true" label="Input file(s)" help="Input files in bam or sam format."/>
        <section name="advanced_options" title="Advanced options">
            <param argument="--quiet" type="boolean" value="false" truevalue="--quiet" falsevalue="" label="" help=""/>
            <param argument="--threads" type="integer" value="1" label="Threads" help="Specify the number of threads, allowing simultaneous processing of multiple files"/>
            <param argument="--zip" type="boolean" value="false" truevalue="--zip" falsevalue="" label="Compress output" help="Compress the output with zip"/>
        </section>
    </inputs>
    <outputs>
    <data format="txt" name="hicup_deduplicator_summary">
        <discover_datasets pattern="hicup_deduplicator_summary" visible="true" />
    </data>
    <data format="bam" name="hicup_deduplicator_summary">
        <discover_datasets pattern="dedup.bam" visible="true" />
    </data>
    <data format="sam" name="hicup_deduplicator_summary">
        <discover_datasets pattern="dedup.sam" visible="true" />
    </data>
    </outputs>
    <help><![CDATA[
The Hi-C experimental protocol involves a PCR amplification step to generate enough material for sequencing. Consequently, the dataset generated by HiCUP Filter may contain PCR copies of the same di-tag. These PCR duplicates could result in incorrect inferences being drawn regarding the genomic conformation and so should be removed from the data set.

The names of the files to process can be passed to the script either by using a configuration file or command line arguments.
    ]]></help>
</tool>