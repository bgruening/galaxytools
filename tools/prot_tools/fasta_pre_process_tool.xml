<tool id="fasta_preprocessor" name="FASTA Preprocessor" version="1.0.0">
    <description>Preprocess and merge unlabeled FASTA files</description>
    <requirements>
        <requirement type="package" version="1.81">biopython</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        python '$__tool_directory__/fasta_pre_process_tool.py'
        #for $i, $input_file in enumerate($input_positive)
        --input_positive_$i '$input_file.input'
        #end for
        #for $i, $input_file in enumerate($input_negative)
        --input_negative_$i '$input_file.input'
        #end for
        --output '$output'
    ]]></command>
    <inputs>
        <repeat name="input_positive" title="Positive FASTA files">
            <param name="input" type="data" format="fasta" label="Positive FASTA file" help="Input FASTA file to be labeled as positive"/>
        </repeat>
        <repeat name="input_negative" title="Negative FASTA files">
            <param name="input" type="data" format="fasta" label="Negative FASTA file" help="Input FASTA file to be labeled as negative"/>
        </repeat>
    </inputs>
    <outputs>
        <data name="output" format="fasta" label="${tool.name} on ${on_string}: preprocessed FASTA"/>
    </outputs>
    <help><![CDATA[
        This tool preprocesses and merges multiple unlabeled FASTA files:
        
        1. It accepts multiple unlabeled positive and negative FASTA files.
        2. It adds labels to the files (LABEL=1 for positive, LABEL=0 for negative).
        3. It merges all files into a single output FASTA file.

        The output file will contain all sequences with their corresponding labels.
    ]]></help>
</tool>