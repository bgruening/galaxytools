<tool id="gfastats" name="gfastats" version="@TOOL_VERSION@+galaxy@SUFFIX_VERSION@" profile="20.01">
    <description>the swiss army knife for genome assembly</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements" />
    <expand macro="biotools"/>
    <version_command>gfastats --version</version_command>
    <command detect_errors="exit_code"><![CDATA[
        gfstats
        $input_file
        #if $expected_genomesize
            $expected_genomesize
        #end if
        #if $target_sequence
            #if $coordinates
                $target_sequence:$coordinates
            #else
                $target_sequence
            #end if
        #end if
        -o $output_format
        -s $output_size
        -b $out_coord
        #if $include_bed
            -i $include_bed
        #end if
        #if $exclude_bed
            -e $exclude_bed
        #end if
        $tabular_output
        --stats 
        $seq_report
        #if $seq_report
            $out_sequence
        #end if
        $nstar_report
        #if $swiss_army
            -k $swiss_army
        #end if
        --verbose
        --cmd
        #if $output_format == 'FASTA'
            #if $line_length
                --line-length $line_length
            #end if
        #end if
        --
    ]]></command>
    <inputs>
        <param name="input_file" argument="--fasta" type="data" format="fasta,fastq,fastqsanger,gfa,fasta.gz,fastq.gz,fastqsanger.gz,gfa.gz" label="" help="TODO" />
     </inputs>
    <outputs>
    </outputs>
    <tests>
        <!--Test 01: pacbio-raw-->
        <test expect_num_outputs="5">
            <param name="inputs" ftype="fastq.gz" value="ecoli_01.fastq.gz,ecoli_02.fastq.gz,ecoli_03.fastq.gz,ecoli_04.fastq.gz,ecoli_05.fastq.gz,ecoli_06.fastq.gz,ecoli_07.fastq.gz"/>
            <param name="mode" value="--pacbio-raw"/>
            <param name="iterations" value="0"/>
            <param name="generate_log" value="true"/>
            <output name="assembly_info" file="result1_assembly_info.txt" ftype="tabular" compare="sim_size"/>
            <output name="assembly_graph" file="result1_assembly_graph.dot" ftype="graph_dot" compare="sim_size"/>
            <output name="assembly_gfa" file="result1_assembly_graph.gfa" ftype="txt" compare="sim_size"/>
            <output name="consensus" file="result1_assembly.fasta" ftype="fasta" compare="sim_size"/>
            <output name="flye_log" file="result1.log" ftype="txt" compare="sim_size"/>
        </test>
    </tests>
    <help><![CDATA[

.. class:: infomark

**Purpose**

Hello, world!

  ]]></help>
    <expand macro="citations" />
</tool>
