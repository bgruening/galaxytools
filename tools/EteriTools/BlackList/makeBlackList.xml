<tool id="makeBlacklist" name="Create_BlackList" version="0.1">
   <!--parallelism method="multi" split_inputs="input1" split_mode="to_size" split_size="10" shared_inputs="" merge_outputs="output1, output2"></parallelism-->

    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command>
<![CDATA[

        cp ~/galaxytools/tools/EteriTools/BlackList/makeBlackList.pl ./ &&
        cp -r ~/galaxytools/tools/EteriTools/NSPDK/Array ./ &&



        perl makeBlackList.pl

        #if str( $iteration_num.iteration_num_selector ) == "single":
          1
        #end if

        #if str( $iteration_num.iteration_num_selector ) == "multiple":
          $iteration_num.round
          $data_names
          $final_partition_soft
          $oldBlackList
          $iteration_num.GLOBAL_hit_blacklist_overlap
        #end if

]]>
	</command>
    <inputs>


       <conditional name="iteration_num">
           <param name="iteration_num_selector" type="select" label="Choose single or multiple iteration(s)">
               <option value="single" selected="True">Single iteration</option>
               <option value="multiple">Multiple iterations</option>
           </param>
           <when value="multiple">

             <param name="round" type="integer" value="2" size="5" label="Number of current iteration ">
              <sanitizer>
                        <valid initial="string.printable">
                           <remove value="&apos;"/>
                        </valid>
                    </sanitizer>
            </param>


               <param type="data" name="data_names" format="txt" />
               <param type="data" name="final_partition_soft" format="txt" />
               <param type="data" name="oldBlackList" format="txt" />

               <param name="GLOBAL_hit_blacklist_overlap" type="float" value="0.2" size="5" label="Blacklist hit overlap" >
                 <sanitizer>
                   <valid initial="string.printable">
                          <remove value="&apos;"/>
                   </valid>
                 </sanitizer>
                </param>

           </when>
           <when value="single"/>
       </conditional>

    </inputs>
    <outputs>
        <!--data name="data_svector" format="txt" from_work_dir="SVECTOR/data.svector.1" label="data_svector"  /-->
        <!--data name="$data_svector.$CI.fast_cluster" format="txt" label="fast_cluster.$CI"  />
        <data name="$data_svector.$CI.fast_cluster_sim" format="txt"  label="fast_cluster_sim.1"  /-->

        <data name="data_svector_blackList" format="txt" from_work_dir="SVECTOR/data.svector.blacklist.1" label="data.svector.blacklist.1"  >
          <filter> iteration_num["iteration_num_selector"] == "single"  </filter>
        </data>


        <data name="data_svector_blackList_m" format="txt" from_work_dir="SVECTOR/data.svector.blacklist.*" label="data.svector.blacklist"  >
          <filter> iteration_num['iteration_num_selector'] == "multiple"  </filter>
        </data>
        <data name="round_hits_m" format="txt" from_work_dir="SVECTOR/round.*.hits" label="round.hits"  >
          <filter> iteration_num['iteration_num_selector'] == "multiple"  </filter>
        </data>



    </outputs>





    <help>
<![CDATA[


    ]]></help>
    <citations>
        <citation type="bibtex">
@misc{githubseqtk,
  author = {LastTODO, FirstTODO},
  year = {TODO},


}</citation>
    </citations>
</tool>
