<tool id="final_Results" name="Final Results" version="0.1">
   <!--parallelism method="multi" split_inputs="input1" split_mode="to_size" split_size="10" shared_inputs="" merge_outputs="output1, output2"></parallelism-->

    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command>
        <![CDATA[


        cp ~/galaxytools/tools/EteriTools/CollectResults/final_Result_Collect.pl ./ &&
        cp ~/galaxytools/tools/EteriTools/CollectResults/gc_results_cluster.pl ./ &&
        cp -r ~/galaxytools/tools/EteriTools/CollectResults/Array ./ &&

        unzip $FASTA  &&

      ##  #set $inputFiles = ""

      ##  #for $cms_res in $cmsearch_results:
      ##     #set $inputFiles += str($cms_res)+','
      ##  #end for
      ##  #set $inputFiles = $inputFiles[:-1]

		    perl final_Result_Collect.pl $part_file
      ##  python evaluation.py
]]>
</command>
    <inputs>

        <param type="data" name="FASTA" format="zip" />
        <param type="data" name="part_file" format="txt" multiple="True"/>


    </inputs>
    <outputs>

    <data name="final_stats" format="txt" from_work_dir="RESULTS/cluster.final.stats" label="cluster.final.stats"  />

    <collection name="Round_partitions" type="list"  label="Round partitions">
      <discover_datasets pattern="(?P&lt;name&gt;^.*$)" directory="EVAL/partitions"  />
    </collection>

    <collection name="Round_final_partitions" type="list"  label="Round final partitions">
      <discover_datasets pattern="(?P&lt;name&gt;^.*$)" directory="RESULTS/partitions"  />
    </collection>

    </outputs>





    <help></help>
</tool>
