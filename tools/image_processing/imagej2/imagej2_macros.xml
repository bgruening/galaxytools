<?xml version='1.0' encoding='UTF-8'?>
<macros>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="3.10.2">atlas</requirement>
            <requirement type="package" version="20141125">fiji</requirement>
            <requirement type="package" version="1.0.11">javabridge</requirement>
            <requirement type="package" version="1.9">numpy</requirement>
            <requirement type="package" version="1.0.4">python_bioformats</requirement>
        </requirements>
    </xml>
    <xml name="stdio">
        <stdio>
            <exit_code range="1:"/>
            <exit_code range=":-1"/>
            <regex match="Error:"/>
            <regex match="Exception:"/>
        </stdio>
    </xml>
  	<xml name="max_heap_size_type_conditional">
        <conditional name="set_max_heap_size">
            <param name="max_heap_size_type" type="select" label="Maximum size of the memory allocation pool used by the JVM" help="This value must be a multiple of 256k or it will be ignored and the system default will be used.">
                <option value="default" selected="True">Do not set</option>
                <option value="kilobytes">Set in kilobytes</option>
                <option value="megabytes">Set in megabytes</option>
            </param>
            <when value="default">
                <param name="max_heap_size" type="integer" value="0" label="Do not set" help="Use system default"/>
            </when>
            <when value="kilobytes">
                <param name="max_heap_size" type="integer" value="512" min="256" label="Maximum size, in kilobytes, of the memory allocation pool" help="Examples: 256, 512, etc."/>
            </when>
            <when value="megabytes">
                <param name="max_heap_size" type="integer" value="512" min="256" label="Maximum size, in megabytes, of the memory allocation pool" help="Examples: 256, 512, etc."/>
            </when>
        </conditional>
    </xml>
    <xml name="input_datatype_conditional">
    	<!-- List only the subset of bioformats image types (see bioformats.READABLE_FORMATS) supported by Galaxy. -->
        <conditional name="set_input_datatype">
            <param name="input_datatype" type="select" label="Select an image type">
            	<option value="bmp" selected="true">bmp</option>
            	<option value="eps">eps</option>
            	<option value="gif">gif</option>
            	<option value="html">html</option>
            	<option value="jpg">jpg</option>
            	<option value="pcx">pcx</option>
            	<option value="pgm">pgm</option>
                <option value="png">png</option>
                <option value="psd">psd</option>
                <option value="tiff">tiff</option>
            </param>
            <when value="bmp">
                <param format="bmp" name="input" type="data" label="Select image"/>
            </when>
            <when value="eps">
                <param format="eps" name="input" type="data" label="Select image"/>
            </when>
            <when value="gif">
                <param format="gif" name="input" type="data" label="Select image"/>
            </when>
            <when value="html">
                <param format="html" name="input" type="data" label="Select image"/>
            </when>
            <when value="jpg">
                <param format="jpg" name="input" type="data" label="Select image"/>
            </when>
            <when value="pcx">
                <param format="pcx" name="input" type="data" label="Select image"/>
            </when>
            <when value="pgm">
                <param format="pgm" name="input" type="data" label="Select image"/>
            </when>
            <when value="png">
                <param format="png" name="input" type="data" label="Select image"/>
            </when>
            <when value="psd">
                <param format="psd" name="input" type="data" label="Select image"/>
            </when>
            <when value="tiff">
                <param format="tiff" name="input" type="data" label="Select image"/>
            </when>
        </conditional>
    </xml>
    <xml name="output_datatype_conditional">
    	<!-- List only the subset of bioformats image types (see bioformats.WRITABLE_FORMATS) supported by Galaxy. -->
    	<conditional name="set_output_datatype">
            <param name="output_datatype" type="select" label="Select an image type">
            	<option value="jpg" selected="true">jpg</option>
                <option value="png">png</option>
                <option value="tiff">tiff</option>
           	</param>
            <when value="bmp">
                <param name="output_datatype" type="hidden" value="bmp"/>
            </when>
            <when value="gif">
                <param name="output_datatype" type="hidden" value="gif"/>
            </when>
            <when value="jpg">
                <param name="output_datatype" type="hidden" value="jpg"/>
            </when>
            <when value="pcx">
                <param name="output_datatype" type="hidden" value="pcx"/>
            </when>
            <when value="pgm">
                <param name="output_datatype" type="hidden" value="pgm"/>
            </when>
            <when value="png">
                <param name="output_datatype" type="hidden" value="png"/>
            </when>
            <when value="tiff">
                <param name="output_datatype" type="hidden" value="tiff"/>
            </when>
        </conditional>
    </xml>
	<token name="@HELP_CITATIONS@">

------

**Citation**

If you use this tool in Galaxy, please cite Blankenberg D, et al. *In preparation.*


	</token>
	<xml name="citations">
		<citations>
			<citation type="doi">10.1038/nmeth.2102</citation>
			<citation type="doi">10.1038/nmeth.2019</citation>
			<citation type="doi">10.1083/jcb.201004104</citation>
		</citations>
	</xml>
</macros>
