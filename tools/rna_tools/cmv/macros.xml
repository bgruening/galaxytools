<macros>
    <token name="@VERSION@">1.0.6</token>

    <xml name="requirements">
        <requirements>
            <requirement type="package" version="@VERSION@">cmv</requirement>
        </requirements>
    </xml>

    <xml name="stdio">
        <stdio>
            <exit_code range="1:" />
        </stdio>
    </xml>

    <xml name="version">
        <version_command>
            <![CDATA[
                     HMMV --version
            ]]>
        </version_command>
    </xml>

    <xml name="common_parameters">
      <param name="alignment_filepath" type="data" format="stockholm" label="Input stockholm alignment" optional="true"/>
      <param name="output_format" type="select" label="Output format" help="pdf, svg, png, ps">
        <option value="pdf">pdf</option>
        <option value="svg">svg</option>
        <option value="png">png</option>
	<option value="ps">ps</option>
      </param>
      <param name="model_details" type="select" label="Specify visualization detail level." help="minimal,simple,detailed">
        <option value="minimal">minimal</option>
        <option value="simple">simple</option>
        <option value="detailed">detailed</option>
      </param>
      <param name="emission_layout" type="select" label="Specify layout of emission probabilites." help="score,probability,bar">
        <option value="score">score</option>
        <option value="probability">probability</option>
        <option value="bar">bar</option>
      </param>
      <param argument="-t" type="float" value="0.01" label="Transition probability threshold" help="Minimal value for a transition probability to be displayed (Default: 0.01)"/>
      <param argument="-c" type="float" value="2" label="Image scaling factor" help="Set uniform scaling factor for image size (Default: 2)"/>
      <param argument="-w" type="integer" value="100" label="Maximum image width" help="Set maximal width of result figure (Default: 100)" optional="true"/>
      <param argument="-n" type="integer" value="50" label="Stockholm alignment entries"  help="Set cutoff for included stockholm alignment entries (Default: 50)" optional="true"/>
    </xml>
    
    <token name="@COMMON_ARGS@">
      -s $alignment_filepath
      -d $model_details
      -e $emission_layout
      -n $alignment_entries
      -w $max_width
      -c $scaling_factor
      -t $transition_cutoff
      -f $output_format
    </token>
    <xml name="citations">
      <citations>
        <citation type="doi">10.1093/nar/gkt329</citation>
      </citations>
    </xml>
</macros>

