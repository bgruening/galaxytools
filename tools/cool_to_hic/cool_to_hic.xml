<tool name="cool_to_hic" id="cool_to_hic" version="0.0.8" profile="22.05">
  <!--Source in git at: https://github.com/fubar2/galaxy_tf_overlay-->
  <!--Created by toolfactory@galaxy.org at 01/02/2024 07:02:54 using the Galaxy Tool Factory.-->
  <description>Convert .cool to .hic binary for JBrowse viewing or other use</description>
  <requirements>
    <requirement version="0.0.8" type="package">hictk</requirement>
  </requirements>
  <version_command><![CDATA[echo "0.0.8"]]></version_command>
  <command><![CDATA[bash '$runme']]></command>
  <configfiles>
    <configfile name="runme"><![CDATA[ln -s $incool in.$incool.ext
hictk convert in.$incool.ext out.hic
cp out.hic $outhic
rm out.hic
rm in.$incool.ext]]></configfile>
  </configfiles>
  <inputs>
    <param name="incool" type="data" optional="false" label="Cool file from this history to convert to hic binary" help=""
     format="cool,mcool,scool" multiple="false"/>
  </inputs>
  <outputs>
    <data name="outhic" format="hic" label="cool_to_hic_on_$incool.element_identifier hic" hidden="false"/>
  </outputs>
  <tests>
    <test>
      <output name="outhic" value="outhic_sample" compare="sim_size" delta_frac="0.1"/>
      <param name="incool" value="incool_sample"/>
    </test>
  </tests>
  <help><![CDATA[
 This tool converts cool format files into hic binary file for JBrowse2 viewing.

 It uses https://github.com/paulsengroup/hictk

 Copyright (C) 2023 Roberto Rossini <roberros@uio.no>

 License: MIT

 **hictk**

 ----

 hictk is a blazing fast toolkit to work with .hic and .cool files.

 This repository hosts `hictk`: a set of CLI tools to work with Cooler, as well as `libhictk`: the C++ library underlying `hictk`.

 Python bindings for `libhictk` are available at https://github.com/paulsengroup/hictkpy.

 hictk is capable of reading files in `.cool`, `.mcool`, `.scool` and `.hic` format (including hic v9) as well as writing `.cool` and `.mcool` files.

 **Installing hictk**

 hictk is developed on Linux and tested on Linux, MacOS and Windows.

 hictk can be installed using containers, bioconda or directly from source.
 Refer to https://hictk.readthedocs.io/en/latest/installation.html for more information.

 **Running hictk**

Select the cool or mcool or scool file to be converted from your history.
It will be transformed into a binary hic file.

 Refer to https://hictk.readthedocs.io/en/latest/cli_reference.html for more details.

  ]]></help>
  <citations>
    <citation type="bibtex">@article{hictk,
author = {Roberto Rossini},
year = {2023},
url = {https://github.com/paulsengroup/hictk},
title = {hictk: blazing fast toolkit to work with .hic and .cool files}
}</citation>
    <citation type="doi">10.1093/bioinformatics/bts573</citation>
  </citations>
</tool>
